---
title: 《高性能网站建设》读书笔记
date: 2017-04-16 15:14:54
tags: Web
categories: 读书笔记
---
> 一本老书，其中不少内容现在已经普及开来，几乎已经是必选之事，比如CDN。但看看还是挺有趣的，知其然也，当然自己也没有继续深究，惭愧。好吧，其实是书的开头吸引我了，还有这种操作。  

<!--more-->

# 规则1——减少HTTP请求
第一章就让我大开眼界，减少Web页面中的HTTP请求数量：比如一张图，居然可以判断鼠标点的位置来指向不同的url，66666。还可以使用CSS Sprite,CSS样式表中以data:image/gif;base64,xxxx)的方式内联图片。合并js脚本，css样式表这个就需要考虑一个度了。  

# 规则2——使用内容发布网络
即CDN，主要来实现地理位置上离用户更近，静态文件、组件用它。  

# 规则3——添加Expires头
一个长久的Expires头，可以实现组件的缓存。添加Cache-Control中的max-age，它会告诉服务器指定组件需要缓存多久，解决CS时间同步问题。  

# 规则4——压缩组件
gizp压缩文档、样式表、脚本(Accept-Encoding:gzip)，在flask上有尝试，对数据比较大的情况效果明显(图片和PDF不值得压缩)。

# 规则5——将样式表放在顶部
使用link标签将样式表放在顶部，使得内容逐步呈现(现在一般都是这么做的吧)。避免IE中的白屏、其他浏览器的闪烁。  

# 规则6——将脚本放在底部  
脚本文件尽量放在底部，以免阻塞其他组件的预先下载。  

# 规则7——避免CSS表达式
避免CSS expression，使用one-time expression或者window.onresize等事件，极大部分情况js即可。  

# 规则8——使用外部JavaScript和CSS  
内联响应更快，但外部一般是会被缓存的。

# 规则9——减少DNS查找
设置Keep-Alive或减少域名。

# 规则10——精简JavaScript  
精简js，优化css。

# 规则11——避免重定向
避免重定向,避免缺少斜线的链接结尾. 

# 规则12——移除重复脚本 
移除重复脚本. 

# 规则13——配置ETag 
ETag意译为实体标签，是确认缓存的一种机制。配置/移除ETag减少对服务器性能的影响。（因为不同服务器上ETag不同，导致对缓存的使用率下降）

# 规则14——使AjaX可缓存  
优化Ajax


